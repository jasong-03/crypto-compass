# Crypto Compass - Project Overview & PDR

## Project Identity

**Project Name:** Crypto Compass (also known as Crypto Sentinel)

**Version:** 0.0.0 (Initial Development)

**Repository:** crypto-compass

**Generated By:** Lovable AI Platform

## Executive Summary

Crypto Compass is a real-time cryptocurrency sentiment analysis dashboard that provides traders and investors with actionable intelligence by aggregating multiple data signals into clear sentiment indicators. The application synthesizes fundamental protocol rankings, onchain transaction flows, and technical analysis into a unified view, enabling users to make informed trading decisions quickly.

## Product Development Requirements (PDR)

### 1. Business Objectives

**Primary Goal:** Provide cryptocurrency traders with a comprehensive sentiment analysis tool that consolidates multiple data sources into actionable trading signals.

**Key Success Metrics:**
- Real-time data accuracy and reliability
- Sub-2-second page load time
- 99% uptime for API integrations
- User engagement with onchain detail modal

**Target Launch:** MVP Complete (Current Status)

### 2. Target Audience

**Primary Users:**
- Cryptocurrency day traders seeking quick sentiment insights
- DeFi investors monitoring protocol health
- Portfolio managers tracking multiple assets
- Crypto analysts researching market trends

**User Skill Level:**
- Intermediate to advanced crypto traders
- Basic understanding of fundamental and technical analysis
- Familiarity with onchain metrics

**User Goals:**
- Quickly assess market sentiment for multiple tokens
- Identify bullish/bearish opportunities
- Monitor onchain flow dynamics
- Track protocol ranking changes

### 3. Core Features

#### 3.1 Multi-Layer Sentiment Analysis

**Fundamental Sentiment**
- Based on protocol ranking percentile
- Algorithm: Top 5-10% = Bullish, Top 50%+ = Bearish, Middle = Neutral
- Data source: `/fact_q_score` API endpoint
- Updates: Every 5 minutes (cached)

**Onchain Sentiment**
- Derived from 7-hour net flow changes across multiple metrics
- Algorithm: Negative flow = Buying pressure (Bullish), Positive = Selling pressure (Bearish)
- Majority voting across all `_chg_7h` indicators
- Data source: `/netflow_intelligence` API endpoint

**Technical Sentiment**
- Current Status: Hardcoded as 'neutral'
- Future Enhancement: Integration with TA indicators

**Overall Sentiment**
- Majority voting system across all three sentiment layers
- Tie-breaking: Defaults to 'neutral' on multi-way ties
- Visual representation via color-coded badges

#### 3.2 Token Dashboard

**Token Table Display:**
- Token name, symbol, and logo
- Current price (currently hardcoded to $100K for demo)
- All four sentiment indicators (Fundamental, Onchain, Technical, Overall)
- Interactive row click for detailed analysis

**Features:**
- Skeleton loading states for improved UX
- Responsive design for mobile and desktop
- Auto-refresh every 5 minutes
- Manual refresh capability

#### 3.3 Onchain Detail Modal

**Detailed Metrics:**
- Complete onchain token data breakdown
- Individual indicator sentiment calculations
- 7-hour change metrics for all flow indicators
- Field-by-field sentiment analysis

**Interaction:**
- Triggered by clicking any token row
- Responsive dialog interface
- JSON data visualization

#### 3.4 Data Management

**API Integration:**
- Parallel fetching of fundamental and onchain data
- TanStack React Query for caching and state management
- Automatic retry logic (2 retries per request)
- 5-minute stale time configuration

**Pagination:**
- Currently displays all tokens from onchain API (48 tokens)
- Frontend pagination ready for future implementation
- Page state management via React hooks

### 4. Technical Stack

**Frontend Framework:**
- React 18.3.1 with TypeScript 5.8.3
- Vite 5.4.19 (build tool)
- React Router 6.30.1 (routing)

**UI Libraries:**
- TailwindCSS 3.4.17 (styling)
- shadcn/ui (52 components)
- Radix UI primitives
- Lucide React (icons)

**State Management:**
- TanStack React Query 5.83.0
- React Hooks (useState, custom hooks)

**Form & Validation:**
- React Hook Form 7.61.1
- Zod 3.25.76 (schema validation)

**Data Visualization:**
- Recharts 2.15.4

**Additional Libraries:**
- date-fns (date utilities)
- class-variance-authority (component variants)
- tailwind-merge (class name merging)

### 5. Current Limitations

**Known Constraints:**
1. **Price Data:** Hardcoded to "$100K" - not connected to real price feeds
2. **Technical Sentiment:** Hardcoded to 'neutral' - no TA integration
3. **Pagination:** Backend pagination not implemented (shows all 48 tokens)
4. **Real-time Updates:** 5-minute cache, no websocket streaming
5. **Historical Data:** No time-series or historical sentiment tracking
6. **User Authentication:** No login or personalization features
7. **Portfolio Tracking:** No watchlist or favorites functionality
8. **Alert System:** No notifications for sentiment changes

**Technical Debt:**
1. Mock data fallback mechanism (currently disabled)
2. Console debug logging in production code
3. Limited error handling for network failures
4. No retry exponential backoff
5. No API rate limiting consideration

### 6. Future Roadmap

#### Phase 2: Data Enhancement
- Integrate real-time price feeds (CoinGecko, CMC, or DEX aggregators)
- Implement technical analysis indicators (RSI, MACD, Moving Averages)
- Add historical sentiment tracking and charts
- Enable custom timeframe selection (1h, 4h, 24h, 7d)

#### Phase 3: User Features
- User authentication and profiles
- Customizable watchlists
- Sentiment change alerts (email/push)
- Portfolio integration
- Export functionality (CSV, PDF reports)

#### Phase 4: Advanced Analytics
- Correlation analysis between sentiment layers
- Predictive sentiment modeling
- Sentiment vs. price performance backtesting
- Multi-token comparison views
- Custom indicator weighting

#### Phase 5: Platform Expansion
- Mobile native apps (iOS/Android)
- API access for developers
- Webhook integrations
- Trading bot integration
- Social sentiment layer (Twitter, Reddit, Discord)

### 7. Use Cases

#### Use Case 1: Quick Market Scan
**Actor:** Day Trader
**Goal:** Identify high-conviction trading opportunities
**Flow:**
1. User opens dashboard
2. Scans overall sentiment column for extreme signals
3. Clicks tokens with strong bullish/bearish overall sentiment
4. Reviews onchain detail modal for confirmation
5. Makes trading decision

#### Use Case 2: Protocol Research
**Actor:** DeFi Investor
**Goal:** Assess fundamental strength of a protocol
**Flow:**
1. User navigates to dashboard
2. Locates target protocol by name/symbol
3. Reviews fundamental sentiment (ranking percentile)
4. Checks onchain sentiment for holder behavior
5. Evaluates overall sentiment for entry/exit timing

#### Use Case 3: Onchain Flow Analysis
**Actor:** Crypto Analyst
**Goal:** Understand whale and institutional behavior
**Flow:**
1. User identifies tokens with bearish onchain sentiment
2. Clicks row to open detail modal
3. Reviews individual flow metrics
4. Identifies which specific flows are negative (buying pressure)
5. Correlates with fundamental sentiment for context

### 8. Non-Functional Requirements

**Performance:**
- Initial page load: < 2 seconds
- API response time: < 1 second
- Smooth scrolling and interactions (60fps)
- Optimized bundle size (code splitting)

**Reliability:**
- 99% uptime target
- Graceful error handling
- Fallback UI for failed API calls
- Automatic retry on transient failures

**Scalability:**
- Support for 1000+ concurrent users
- Efficient data fetching (pagination, caching)
- CDN delivery for static assets
- API rate limit handling

**Accessibility:**
- WCAG 2.1 Level AA compliance (via shadcn/ui)
- Keyboard navigation support
- Screen reader compatibility
- High contrast mode support

**Security:**
- HTTPS-only API communication
- No sensitive data storage
- XSS protection via React
- Content Security Policy headers

### 9. Success Criteria

**MVP Completion (Current):**
- [x] Display token list with all sentiment layers
- [x] Integrate fundamental and onchain APIs
- [x] Implement sentiment calculation algorithms
- [x] Build onchain detail modal
- [x] Add loading and error states
- [x] Deploy to production

**Post-MVP (Next 3 Months):**
- [ ] Integrate real-time price feeds
- [ ] Add technical analysis layer
- [ ] Implement user authentication
- [ ] Build watchlist functionality
- [ ] Add historical sentiment charts
- [ ] Reach 500 active users

### 10. Deployment & Infrastructure

**Current Hosting:**
- Frontend: Lovable AI platform deployment
- Backend APIs: Google Cloud Run (asia-southeast1)

**API Endpoints:**
- Fundamental: `https://mvp-testidea-1094890588015.asia-southeast1.run.app/fact_q_score`
- Onchain: `https://mvp-testidea-1094890588015.asia-southeast1.run.app/netflow_intelligence`

**Build Configuration:**
- Development: `npm run dev` (Vite dev server)
- Production: `npm run build` (static site generation)
- Preview: `npm run preview` (local production preview)

**Environment Variables:**
- None currently required (API endpoints hardcoded)
- Future: API keys, feature flags, environment-specific URLs

### 11. Dependencies & Licensing

**License:** MIT (typical for Lovable-generated projects)

**Critical Dependencies:**
- React & React DOM (MIT)
- TanStack React Query (MIT)
- Radix UI (MIT)
- TailwindCSS (MIT)
- Vite (MIT)

**Dependency Management:**
- npm package manager
- 43 runtime dependencies
- 12 development dependencies
- Regular security audits recommended

### 12. Documentation Requirements

**Developer Documentation:**
- [x] Project overview and PDR (this document)
- [x] Codebase summary and architecture
- [x] Code standards and conventions
- [x] System architecture diagram
- [x] README with quick start guide

**Future Documentation:**
- [ ] API integration guide for external developers
- [ ] Deployment and DevOps guide
- [ ] User guide and tutorials
- [ ] Troubleshooting and FAQ
- [ ] Contributing guidelines

---

**Document Version:** 1.0
**Last Updated:** 2025-12-23
**Author:** Technical Documentation Team
**Status:** Living Document
